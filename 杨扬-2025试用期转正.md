# 杨扬-2025试用期转正



# 一、自我介绍

| **姓名**     | **杨扬**           |
| :----------- | :----------------- |
| 入职日期     | 2025年7月24日      |
| 上级         | 陈晓霞、张巍       |
| 方向         | 乘客留存           |
| 目前负责模块 | 物料、乘客奖励方向 |



# 二、工作内容



## 2.1 试用期目标完成情况

|                                                | **目标**                                                     | **关键结果**                                                 | **产出**                                                     |
| :--------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 8月-9月                                        | 理解业务，完成出行全流程、os2串讲                            | 第一周入职引导：团队架构、团队成员、业务知识、相关工具、主要制度等 完成出行全流程串讲, 熟悉出行系统基本组织架构 初步了解现状：熟悉奖励业务背景，了解DGX场景，完成业务串讲 | 完成出行主流程系统串讲，并产出系统架构文档，对整体出行业务的整体架构、执行流程有了基本的了解,系统串讲文档, 完成os2业务串讲，结合DXD业务，对os2执行流程进行梳理，初步理解司机、乘客双端在os2的执行流程‌,os2业务串讲‌(公司文化、基础组件、项目开发及上线流程的初步掌握，结合开发过程中使用到的基础组建，记录组件使用过程、使用方式、注意事项等‌![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAASTSURBVHic7Zw/b9tGGMaf+8c/skTLciy3hYCiU+EAnT0WSNExS7007VJ/AWXrULSAgBYZsqVL1ywd8wn8CfwFWqBzEMBtUcRUHckUxetgFUls0ncUeScxut8mvS+PLx/c8Z6jqAMcDofD4XA4HJsIKX3ESHJg3EXSESATDhBqoC6LyAwIM4h4AkQxRiQtc3Q5AUfnPcy8TqljmoZIxhht/6Obri/gd3IfZBosVVTTkMEUj8iZTqre8Bud9zZGPAAg0wCj855OqlrAkeTv/LDNY+Z1ru73t6PRA+OojnqaybirylALOIvCWmppIklHqFI0euCk4TalAmRSxxBuus+rgvraN1icenACVsQJWBEnYEWUs8zSzKflH1SYhAXSRLNmBJxPCS7j9erdPjITIq7XRTYQc0PYAnxr/0hSfkCAuwBiyPkpklcnaRI/t1aDrRPVCfeiAYLtXwEM3rrREvo5gu0h99tP0vGLpzZqad4Q5mH0v3gFGREI+4F3PhjaKKdxArKwN0SxeK8h7CH3InVeRRonICH0SDvZb39hsBQADROQhXcOAJR4PknuGitmQaMEBCHlHu4SavxJ+noJyMOIt987ZsFObs+ZJ//+XqY5KbNS+cuwVgKysDcEFd8Tr/1L7gSQTmIA2h5PZulpnfXlsTYCstbeISH0ePFxUDQBZPPkJ60GZXaaXZyd1FVfEWsjIGHew2tf5NqQ7OLsBHL+RNHcc1yOv62zviLWQkDW2jsEoYc3An4n1wyn4xc/y3T6FYDfbgRl9gzT869tLedWv5TjYUR48Dg3RugRa+09m7/668a9bPHdffAwYl77AFLG88nfxieN66xcQB7ufINbVhYLcT8tbCCdxPN0YnyyKGK1Q5iHEQg7VmQN+Na+/urDMisVcLGuVZtj5g1trGuXYWUCXrMtKnJtjfC7uyy887EQ3X7N5WmzMgFv2Bb1AW/bGk5ZRnkfEiJjvA8qvLpr1GElAhbaFhVv2BrOt/uQYK8/hyvphfYFvM22qLiyNYeg7UCC7b4ZktTrgratv8NoXUCVbVFBePCY+/77eTHGgw+XbXdZ7AqoZ1tUDMD9+7kRCiFoa6di+6WwKqC2bVFB6ANKaO49L+OtPjhleTETWBOwpG1RQPpg7LPcEIUQJNrNjRnAmoClbYsCSfmXhb3Qoq2xIuDStkWBZOJBUcyWrTEvYBXbooLSe4TxT/JCtmyNcQGr2hYljBf+gG7D1pgVsB7booD0ifDu5YYs2BqjAtZmW1Ss0NYYFbA+26I8U18y/lFuiEII+Fumzmz2ibSc/2h+CAOA/JNk6R+SYHY9QiCTGS4vAOV/ZpbCqICLV8yemjyHNoYG8Vr8KtdkzPRAFkj4yIy0vSyNeskcMFbwuuGGcEWcgBVxAlbECVgRDQHles2mVlFfu1pAGZbaiObdIqxBQG98Y3m0MYh4okrRGMKdl3XU0kyiWJWhsW8MSSGScS31NAmRjHX20XJbP+VR+9ZPAPCInG1ETxTJWFc8YOnt7+LoakOeCW3+tigygwzTq8my87Ls9ncOh8PhcDgcjs3kP/hMASG0874pAAAAAElFTkSuQCC)工具使用整理‌ |
|                                                |                                                              |                                                              |                                                              |
| 10-11月                                        | 熟悉物料系统内容完成免佣卡-物料部分需求交付完成接口稳定性建设 | 完成一次完整版中小需求交付，熟悉项目进度管理、需求评审、方案设计、开发、自测、联调、测试、CR、风险分析、上线验证 深入了解留存物料模块，完成物料模块业务流程梳理 能够独立完成值周，线上工单处理等 | 独立完成了留存业务免佣卡需求的方案设计、开发、自测、联调等工作，‌![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAASTSURBVHic7Zw/b9tGGMaf+8c/skTLciy3hYCiU+EAnT0WSNExS7007VJ/AWXrULSAgBYZsqVL1ywd8wn8CfwFWqBzEMBtUcRUHckUxetgFUls0ncUeScxut8mvS+PLx/c8Z6jqAMcDofD4XA4HJsIKX3ESHJg3EXSESATDhBqoC6LyAwIM4h4AkQxRiQtc3Q5AUfnPcy8TqljmoZIxhht/6Obri/gd3IfZBosVVTTkMEUj8iZTqre8Bud9zZGPAAg0wCj855OqlrAkeTv/LDNY+Z1ru73t6PRA+OojnqaybirylALOIvCWmppIklHqFI0euCk4TalAmRSxxBuus+rgvraN1icenACVsQJWBEnYEWUs8zSzKflH1SYhAXSRLNmBJxPCS7j9erdPjITIq7XRTYQc0PYAnxr/0hSfkCAuwBiyPkpklcnaRI/t1aDrRPVCfeiAYLtXwEM3rrREvo5gu0h99tP0vGLpzZqad4Q5mH0v3gFGREI+4F3PhjaKKdxArKwN0SxeK8h7CH3InVeRRonICH0SDvZb39hsBQADROQhXcOAJR4PknuGitmQaMEBCHlHu4SavxJ+noJyMOIt987ZsFObs+ZJ//+XqY5KbNS+cuwVgKysDcEFd8Tr/1L7gSQTmIA2h5PZulpnfXlsTYCstbeISH0ePFxUDQBZPPkJ60GZXaaXZyd1FVfEWsjIGHew2tf5NqQ7OLsBHL+RNHcc1yOv62zviLWQkDW2jsEoYc3An4n1wyn4xc/y3T6FYDfbgRl9gzT869tLedWv5TjYUR48Dg3RugRa+09m7/668a9bPHdffAwYl77AFLG88nfxieN66xcQB7ufINbVhYLcT8tbCCdxPN0YnyyKGK1Q5iHEQg7VmQN+Na+/urDMisVcLGuVZtj5g1trGuXYWUCXrMtKnJtjfC7uyy887EQ3X7N5WmzMgFv2Bb1AW/bGk5ZRnkfEiJjvA8qvLpr1GElAhbaFhVv2BrOt/uQYK8/hyvphfYFvM22qLiyNYeg7UCC7b4ZktTrgratv8NoXUCVbVFBePCY+/77eTHGgw+XbXdZ7AqoZ1tUDMD9+7kRCiFoa6di+6WwKqC2bVFB6ANKaO49L+OtPjhleTETWBOwpG1RQPpg7LPcEIUQJNrNjRnAmoClbYsCSfmXhb3Qoq2xIuDStkWBZOJBUcyWrTEvYBXbooLSe4TxT/JCtmyNcQGr2hYljBf+gG7D1pgVsB7booD0ifDu5YYs2BqjAtZmW1Ss0NYYFbA+26I8U18y/lFuiEII+Fumzmz2ibSc/2h+CAOA/JNk6R+SYHY9QiCTGS4vAOV/ZpbCqICLV8yemjyHNoYG8Vr8KtdkzPRAFkj4yIy0vSyNeskcMFbwuuGGcEWcgBVxAlbECVgRDQHles2mVlFfu1pAGZbaiObdIqxBQG98Y3m0MYh4okrRGMKdl3XU0kyiWJWhsW8MSSGScS31NAmRjHX20XJbP+VR+9ZPAPCInG1ETxTJWFc8YOnt7+LoakOeCW3+tigygwzTq8my87Ls9ncOh8PhcDgcjs3kP/hMASG0874pAAAAAElFTkSuQmCC)免佣卡设计文档‌![img]() 在整个研发过程中边熟悉需求，边了解业务，在完成编码的同时，也对物料相关的业务有了初步的了解‌![img](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAASTSURBVHic7Zw/b9tGGMaf+8c/skTLciy3hYCiU+EAnT0WSNExS7007VJ/AWXrULSAgBYZsqVL1ywd8wn8CfwFWqBzEMBtUcRUHckUxetgFUls0ncUeScxut8mvS+PLx/c8Z6jqAMcDofD4XA4HJsIKX3ESHJg3EXSESATDhBqoC6LyAwIM4h4AkQxRiQtc3Q5AUfnPcy8TqljmoZIxhht/6Obri/gd3IfZBosVVTTkMEUj8iZTqre8Bud9zZGPAAg0wCj855OqlrAkeTv/LDNY+Z1ru73t6PRA+OojnqaybirylALOIvCWmppIklHqFI0euCk4TalAmRSxxBuus+rgvraN1icenACVsQJWBEnYEWUs8zSzKflH1SYhAXSRLNmBJxPCS7j9erdPjITIq7XRTYQc0PYAnxr/0hSfkCAuwBiyPkpklcnaRI/t1aDrRPVCfeiAYLtXwEM3rrREvo5gu0h99tP0vGLpzZqad4Q5mH0v3gFGREI+4F3PhjaKKdxArKwN0SxeK8h7CH3InVeRRonICH0SDvZb39hsBQADROQhXcOAJR4PknuGitmQaMEBCHlHu4SavxJ+noJyMOIt987ZsFObs+ZJ//+XqY5KbNS+cuwVgKysDcEFd8Tr/1L7gSQTmIA2h5PZulpnfXlsTYCstbeISH0ePFxUDQBZPPkJ60GZXaaXZyd1FVfEWsjIGHew2tf5NqQ7OLsBHL+RNHcc1yOv62zviLWQkDW2jsEoYc3An4n1wyn4xc/y3T6FYDfbgRl9gzT869tLedWv5TjYUR48Dg3RugRa+09m7/668a9bPHdffAwYl77AFLG88nfxieN66xcQB7ufINbVhYLcT8tbCCdxPN0YnyyKGK1Q5iHEQg7VmQN+Na+/urDMisVcLGuVZtj5g1trGuXYWUCXrMtKnJtjfC7uyy887EQ3X7N5WmzMgFv2Bb1AW/bGk5ZRnkfEiJjvA8qvLpr1GElAhbaFhVv2BrOt/uQYK8/hyvphfYFvM22qLiyNYeg7UCC7b4ZktTrgratv8NoXUCVbVFBePCY+/77eTHGgw+XbXdZ7AqoZ1tUDMD9+7kRCiFoa6di+6WwKqC2bVFB6ANKaO49L+OtPjhleTETWBOwpG1RQPpg7LPcEIUQJNrNjRnAmoClbYsCSfmXhb3Qoq2xIuDStkWBZOJBUcyWrTEvYBXbooLSe4TxT/JCtmyNcQGr2hYljBf+gG7D1pgVsB7booD0ifDu5YYs2BqjAtZmW1Ss0NYYFbA+26I8U18y/lFuiEII+Fumzmz2ibSc/2h+CAOA/JNk6R+SYHY9QiCTGS4vAOV/ZpbCqICLV8yemjyHNoYG8Vr8KtdkzPRAFkj4yIy0vSyNeskcMFbwuuGGcEWcgBVxAlbECVgRDQHles2mVlFfu1pAGZbaiObdIqxBQG98Y3m0MYh4okrRGMKdl3XU0kyiWJWhsW8MSSGScS31NAmRjHX20XJbP+VR+9ZPAPCInG1ETxTJWFc8YOnt7+LoakOeCW3+tigygwzTq8my87Ls9ncOh8PhcDgcjs3kP/hMASG0874pAAAAAElFTkSuQmCC)免佣卡业务流程整理‌![img]() 线上工单处理（未开始）的规划：通过线上问题排查捋顺解决问题的思路，逐渐的将我负责模块的工单承接过来 |
| 完成乘客atom项目稳定性建设提供接口优化支持数据 | 构建了多维度、阶梯式的接口稳定性体系，核心指标如下‌![img](https://img-ys011.didistatic.com/static/cooper_cn/dkpage.png)atom稳定性建设‌![img]() 输出接口稳定性报告‌![img](https://img-ys011.didistatic.com/static/cooper_cn/dkpage.png)atom稳定性报告‌![img]() |                                                              |                                                              |
| 12月                                           | 参与、交付乘客相关需求                                       | 完成并交付资源位需求（已提测）梳理资源位内容日本会员积分增加繁中+韩语翻译（开发中）日本会员积分 java项目增加覆盖率（开发中） | 资源位逻辑沉淀‌![img](https://img-ys011.didistatic.com/static/cooper_cn/dkpage.png)资源位逻辑梳理‌![img]() ‌![img](https://img-ys011.didistatic.com/static/cooper_cn/dkpage.png)java覆盖率接入注意事项、排查思路‌![img]() |



## 2.2 免佣卡需求



### 2.2.1.1 需求内容介绍



#### **物料管理模块**：新增免佣卡类型，维护物料spu、sku、权益等物料数据

1. 物料状态管理

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=1765528184995a84c6a65-fc6d-40ef-b62d-4d5ab6750430%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()

1. 物料管理模块采用组件化配置，维护免佣卡spu、sku、权益的创建，其中还包括一些数据接口

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=1765528396652cb3a1fce-886f-42be-b649-fc7c68ae5573%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()

1. 物料审核，新增multi_template模式

新模式下，模版数量控制在1-3个，审核时，每个城市都会根据现有的模版创建物料sku



#### **物料交易模块**：维护订单、发货等交易数据，定义订单状态机，提供统一的物料买赠、发货等管理能力

1. 订单购买整体流程，免佣卡为xtr的一部分，但是对于物料来说为新增品类，需要完成购买的全部流程

1. 免佣卡无库存

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=176552917976928b0ed0d-470d-4df5-acc0-c483b6ddd995%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()



### 2.2.1.2 内容沉淀

‌![](https://img-ys011.didistatic.com/static/cooper_cn/dkpage.png)物料业务整理‌![img]()

内容沉淀主要集中在两个部分，一个是容易被忘记的免佣卡组件化是如何配置的，各个组件、配置、字段的含义都是什么，做了相对细致的整理，例如下图中的整理事例

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=1765530184491968d3727-1fca-43aa-9d7f-f9535482d3ae%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()

另外一方面，是对创建、审核、购买流程的梳理，这里主要指的是免佣卡；流程梳理中，核心的关注点是【发生了什么】，导致订单、发货记录的状态变化

1. 购买物料流程抽象

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=17655306551337ea7d4b3-0666-44b5-bec1-27703e21a2f6%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()

1. 状态变动事件（局部）

​           ![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=1765530738762944490ba-1af3-4ce0-81a7-0ffaf67b7516%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()



### 2.2.1.3 主要成果&&思考

‌![img](https://img-ys011.didistatic.com/static/cooper_cn/dkpage.png)物料业务整理‌![img]()

//pm正与前线沟通小流量推送时间、方案

1. 在组件的理解方面，梳理了组件中各个字段含义和他的使用‌![img](data:image/png;base64,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)‌方式，并‌![img](data:image/png;base64,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)‌附带相应的配置案例，做到了字段与页面的完整对应；保证后续新产品的接入能快速的完成，节省时间，提高接入效率

1. 思考：组件化的目的是为了节省应对大量的新品类接入而导致的时间浪费，但同时组件化之后也会导致学习成本增加，所以做好组件化的说明，才能真正的节省时间成本，发挥组件化的作用；在整理说明过程中，一方面需要有足够细致的说明，另一方面，需要显示出字段与页面的对应关系，不至于在配置的时候太盲目；

1. 初步梳理了物料b端和c端的逻辑，进行了一些内容上的沉淀，同时，对流程抽象有了一定理解，在这个基础上，如果后续有优化需求，可以进行一些参考；

1. 思考：流程的抽象也是为了使业务结构清晰，过于冗长、分散的方法链路在实际的编程过程中，会导致代码的质量下降，代码中的错误率增加

1. 一个流程分了7个或者8个方法，每一个品类的新接入，都需要重新实现这八个方法，代码量大，增加风险。

1. 或者一个接口里面的方法包含在不同的流程里，新接入时，需要了解全部的流程，增加负担。

1. 一般性的解决方案：通过范型的方式，做更高维度的抽象，统一好入参、反参，将大流程拆分成小流程，每次接入，只关心小流程，不需要关心，或不需要太关心大流程；另外一方面，将接口做收敛，一个接口的内容收敛到一个方法里（只针对domain过程，不考虑基础设施层的接口）

1. 对于复杂的逻辑，一般性的方案无法解决的，那么就需要对业务流程进行比较细致的梳理，做好每一步的流程说明，降低在新接入过程中的风险；

1. 拿购买举例：在整个购买链路里面，应当通过状态机规范好整个状态变更流程，设置好可回滚状态、不可回滚状态、终态等，并做好约束；整个购买流程应该是非常独立的流程，撤销、补偿逻辑，我比较倾向于将他们单独拆分出来，重试等补偿逻辑可以通过扫表、mq的方式进行；



## 2.3 atom稳定性需求



#### 2.2.1.1 需求内容介绍

  atom项目目前缺乏基础的稳定性监控，对于服务的质量无法做出评估，需要根据目前已有的工具如odin对atom项目的接口进行稳定性监控

  稳定性需求不是业务需求，所以这里会详细介绍一下建设思路



#### 2.2.1.2 工作内容

‌![img](data:image/png;base64,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)‌![img]()

内容沉淀主要从两方面进行，一方面是该怎么做，另一方面是数据内容



- **怎么做**

常规的稳定性监控主要包含以下几个方面：错误率、错误数量、p99、平均耗时、QPS，在这几个指标的基础上，进行更细致的划分，主要目的是，对重要接口重点关注，对一般性接口一般关注，防止精力分散

1. 划分不同接口等级，根据等级不同，制定不同的报警触发条件

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=1767545155421f0834ce1-056e-447d-995a-54fc04ddc35c%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()

1. 划分报警级别，根据触发条件不同，做不同级别的报警，warn对应的是系统预警，error对应的是已经出现了事故需要解决，在预警的时候予以关注，方式事态扩大；但是同时，如果设置的阈值不合理，也会导致报警过多，失去关注焦点，这个需要在具体的实践中思考，比如按照现有指标，发现预警很多，但是error级别的事故几乎没有，那么需要适当的扩大warn的阈值

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=176754544470970991609-acba-4539-8bdb-98113d3c78cd%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()

c. 报警指标的依据

1. 初始版本的依据是结合腾讯、华为官方的一些内容进行制定的

1. 指标并非一成不变，由于接口类别不同，他们报警指标也需要根据现实情况进行不断的调整，比如对于一些数据接口，根据入参的不同，返回的数据大小差异非常大，那么就会导致p99指标毛刺非常多，同一个接口，不同的请求，他们的耗时可能是 倍数差异， 这种接口如果与其他平滑接口采用的数据一致明显不太合理，所以需要结合现实情况以及设置的接口超时时间重新设置阈值



- **工具使用方式**



- odin作为监控工具，自由度高，但是上报的指标含义不是非常清晰，研发内部缺乏共识，所以整理了一部分使用方式供参考

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=176762603912883b69fab-f0d0-45a2-93b9-17a1c293804e%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()



#### 2.2.1.4 成果&&总结

对接口的报警情况进行了梳理以及日志分析，对出现的问题进行了汇总

| 问题分类       | 详细分析                                                     | 解决方案                                                     |
| :------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 入参校验不通过 | 大量的错误入参，比如cityId==0                                | 查找请求来源，大量的错误入参可能是上游存在代码错误，需要修改可能是存在不该有的请求，不应该请求到下层，而应该在上游就将这种请求过滤掉，防止消耗下游服务资源 |
| errorNo = 500  | errorNo= 500的请求里面，包含很多正常的场景，比如请求活动内容时，活动为空，应该正常返回，或者返回一个非500的具有明确含义的errorNo | 请求返回的ErrorNo精细化分类，500作为一个比较特殊的errorNo，当你能清晰的意识到系统中发生了什么的时候，就要避免使用500，而应该使用非常明确的ErrorNO |
| 10017请求超时  | 请求超时主要集中在os2的接口调用过程中，一方面是os2接口比较重，请求链路长，数据内容多，另一方面也存在不同入参，数据大小不一的差异，比如dxgy的活动内容就比第二单立减多 | 反馈到了os2，在12月份的时候他们进行了一次改版，做了一些优化（缓存），根据现在的情况看，超时的情况减少了很多 |



## 2.4 资源位需求（测试中）



#### 2.4.1.1 需求介绍及工作内容



- 介绍：端上对资源位进行改版，将原本的一个resourceID对应全部（三个）行中页面的资源位，修改成三个resourceId对应三个页面的资源位；三个资源位所在的页面分别为：接驾页面、行驶中页面、行程结束页面



- 工作内容：第二单立减、通勤奖、新冲单奖兼容新resourceId的数据返回



#### 2.4.1.2 难点



- 不同类型资源位的含义是什么，资源位的id含义是什么



- ‌![img](https://img-ys011.didistatic.com/static/cooper_cn/dkpage.png)资源位逻辑梳理‌![img]()



- 资源位定义了四种类型：三方、三方组件、组件、组件三方，比较详细的梳理了各个资源位的含义，但是资源位侧的处理逻辑没有看，后续可以研究整理一下，同时也可以整理以下资源位内容展示的优先级



- 资源位id比较多，这里面只整理了留存侧需要用到的内容，并梳理了交互过程

![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=1767632614668267415dd-b406-4f54-a1e1-aeafc8a9b364%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img](https://didoc.didichuxing.com/api/uploadfile?b=didoc-upload-image-prod&k=176763264506951bc7f17-3e3f-40f5-85a1-1911cad7e4ce%2Fimage.png&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVnQTdCaXhpODk2MXZ4MW1ubFVNQlp1cEZOYXJZQW5KIiwidXNlcm5hbWUiOiJsdW9iaWFvX2kiLCJkb2NJZCI6IjcwMzY4NzQ0MzI5NDkzIiwiaWF0IjoxNzcxNDMyNDYzLCJleHAiOjE3NzIwMzcyNjN9.kx3Ddt0ldeFPngu4dN-s-pU-37xU12rKhFH1Q86Ecks&x-s3-process=image%2Fformat%2Cwebp)![img]()



- xlab工具



- 研发侧在进行准入演示的时候，对xlab的依赖性很强，但是xlab在使用过程中会出现各种重启、卡顿的问题，后续看一下有没有可替代方案



#### 2.4.1.2 成果&&思考

无





# 三、个人思考与未来规划



##  个人思考



### 订单状态使用状态机流转



- 引入状态机，规划状态流转，严格要求状态的前进后退



- 好处：将 “状态 + 动作 + 转移规则” 结构化定义，逻辑一目了然；更重要的是，能解决状态变更随意操作的痛点

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="571px" height="359px" viewBox="-0.5 -0.5 571 359"><defs></defs><g><path d="M 120 140 L 183.63 140" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 188.88 140 L 181.88 143.5 L 183.63 140 L 181.88 136.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><rect x="40" y="120" width="80" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 140px; margin-left: 41px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">初始化</div></div></div></foreignObject></switch></g><path d="M 270 140 L 333.63 140" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 338.88 140 L 331.88 143.5 L 333.63 140 L 331.88 136.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><path d="M 230 120 L 230 46.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 230 41.12 L 233.5 48.12 L 230 46.37 L 226.5 48.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><rect x="190" y="120" width="80" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 140px; margin-left: 191px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">状态1</div></div></div></foreignObject></switch></g><path d="M 420 140 L 483.63 140" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 488.88 140 L 481.88 143.5 L 483.63 140 L 481.88 136.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><rect x="340" y="120" width="80" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 140px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">状态4</div></div></div></foreignObject></switch></g><rect x="490" y="120" width="80" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 140px; margin-left: 491px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">状态5（终态，成功）</div></div></div></foreignObject></switch></g><path d="M 270 260 L 333.63 260" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 338.88 260 L 331.88 263.5 L 333.63 260 L 331.88 256.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><rect x="190" y="240" width="80" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 260px; margin-left: 191px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">状态2</div></div></div></foreignObject></switch></g><path d="M 420 260 L 530 260 L 530 166.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 530 161.12 L 533.5 168.12 L 530 166.37 L 526.5 168.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><path d="M 380 280 L 380 320 L 230 320 L 230 286.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"></path><path d="M 230 281.12 L 233.5 288.12 L 230 286.37 L 226.5 288.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><rect x="340" y="240" width="80" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 260px; margin-left: 341px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">状态3</div></div></div></foreignObject></switch></g><rect x="270" y="328" width="80" height="30" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 343px; margin-left: 310px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">状态可回滚</div></div></div></foreignObject></switch></g><path d="M 270 20 L 483.63 20" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"></path><path d="M 488.88 20 L 481.88 23.5 L 483.63 20 L 481.88 16.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><rect x="190" y="0" width="80" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 20px; margin-left: 191px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">状态2.1</div></div></div></foreignObject></switch></g><path d="M 395 -35 L 390 -35 Q 385 -35 385 -25 L 385 90 Q 385 100 380 100 L 377.5 100 Q 375 100 380 100 L 382.5 100 Q 385 100 385 110 L 385 225 Q 385 235 390 235 L 395 235" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(90,385,100)" pointer-events="all"></path><rect x="335" y="60" width="100" height="30" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 75px; margin-left: 385px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">状态不可回滚</div></div></div></foreignObject></switch></g><rect x="490" y="0" width="80" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 20px; margin-left: 491px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">状态6（终态,失败）</div></div></div></foreignObject></switch></g><rect x="0" y="0" width="190" height="40" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 20px; margin-left: 95px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">如参数校验失败，入参错误校验<br>多少次都失败，所以就不能重试</div></div></div></foreignObject></switch></g><path d="M 235 220.5 L 245.5 220.5 L 230 239.5 L 214.5 220.5 L 225 220.5 L 225 179.5 L 214.5 179.5 L 230 160.5 L 245.5 179.5 L 235 179.5 Z" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"></path><rect x="160" y="178" width="60" height="30" fill="none" stroke="none" pointer-events="all"></rect><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 193px; margin-left: 190px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">可重试</div></div></div></foreignObject></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"></g></switch></svg>



### 工作方法

​        现阶段在完成需求时，有一个特点：编程时间比较短，理解需求、梳理业务、梳理上下游逻辑的时间比较长，很难有充裕的时间去了解业务，所以对业务理解的提升应该在做需求的过程中完成，思路如下：



- 做完一个需求，对这个需求涉及的内容要做好沉淀，通过一个个的需求，了解一个个的业务



- 对于上下游内容，不能完全黑盒，要清楚基本的运行逻辑，可以不关注他是怎么做的，但是要知道他做了什么，最好可以了解对方数据库内容



- 要有耐心，对已整理好的内容不断修正，将整理后的内容作为自己的参考文档



## 未来规划



### 技术侧



- 技术积累：在实际编程中探寻提高生产力的技术，重视成熟的老技术，学习新技术，在引入技术的同时要采取谨慎的态度，不断积累，抓细节，要有长期主义

PlainText



- 优化：业务的发展导致代码的复杂程度越来越高，做代码改动时要更加有规划，结构上的设计需要通过包、类、接口的三个维度对功能进行收敛，但是也要注意不要扩大化，把优化工作分摊到日常的需求里面，可以先从小处着手，如线程的使用、日志的格式、接口时间、数据查询方式等方面



- 架构：要做到用理论指导实践，理念应用到实践；



- 比如参考DDD理论，设计更科学的代码分层、分包，做到业务功能内聚，不同业务间的低耦合，通过代码就可以清晰的了解到各个业务之间的边界



- DDD架构参考案例‌![img](https://github.githubassets.com/favicons/favicon.png)GitHub - alibaba/COLA: 🥤 COLA: Clean Object-oriented & Layered Architecture‌![img]()



- 后续还要加强对数据的关注



- 服务的各项监控数据，对异常状况敏感，并能及时处理；



- 重视数据分析，对活动的各项数据比如活动创建的个数、活动的参与人数、活动预算和收益等数据要有了解



### 业务侧

1. **深耕留存业务模块，熟悉业务流程以及业务细节**



- 吃透业务全流程：梳理负责模块的业务链路、核心规则、异常场景



- 整理业务内容，不断调整修正，作为未来的参考文档沉淀下来，流程梳理关注两个部分：业务流程 + 数据流转

1. **横向扩展业务知识**



- 熟悉上下游模块，比如在做资源位时，



- 要了解下游dive模块在创建活动时做的一些基本操作，通过这些可以了解不同活动的业务数据差别



- 要了解上游资源位是如何将活动内容露出的，他的展示规则是什么，明白活动数据什么情况下能漏出，什么情况下无法漏出

1. **提升业务认知**



- 在真实的场景里多体验业务流程，发现流程上的问题



- 不要局限在研发视角，要有产品视角，做需求时，多考虑要不要做，应不应该做，而不是好不好做。



- 多对照国内外竞品，新的内容要时刻跟进，已有的内容，要学习竞 品优秀的设计思路；及时反馈